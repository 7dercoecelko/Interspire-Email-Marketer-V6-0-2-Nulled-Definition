{
  "rules": {
    "users": {
      "$uid": {
        ".validate": "newData.hasChildren(['name', 'email', 'provider', 'created'])",
        "name": {
          ".validate": "newData.isString()"
        },
        "email": {
          ".validate": "newData.isString()"
        },
        "provider": {
          ".validate": "newData.isString()"
        },
        "created": {
          ".validate": "newData.isNumber()"
        },
        "channels": {
          "$key1": {
            ".validate": "newData.hasChildren(['title', 'slug', 'body', 'link', 'channelPublic'])",
            "title": {
              ".validate": "newData.isString()"
            },
            "slug": {
              ".validate": "newData.isString()"
            },
            "body": {
              ".validate": "newData.isString()"
            },
            "link": {
              ".validate": "newData.isString()"
            },
            "images": {
              "$key2": {
                ".validate": "newData.hasChildren(['src'])",
                "src": {
                  ".validate": "newData.isString()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "tracks": {
              "$key3": {
                ".validate": "newData.hasChildren(['url', 'title', 'body', 'ytid'])",
                "url": {
                  ".validate": "newData.isString()"
                },
                "title": {
                  ".validate": "newData.isString()"
                },
                "body": {
                  ".validate": "newData.isString()"
                },
                "ytid": {
                  ".validate": "newData.isString()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "favoriteChannels": {
              ".validate": "***TYPE RECURSION***"
            },
            "channelPublic": {
              ".validate": "newData.hasChildren()",
              "followers": {
                ".validate": "***TYPE RECURSION***"
              },
              "$other": {
                ".validate": "false"
              }
            },
            "$other": {
              ".validate": "false"
            }
          },
          ".validate": "newData.hasChildren()"
        },
        "$other": {
          ".validate": "false"
        },
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid"
      }
    },
    "userSettings": {
      "$id": {
        ".validate": "newData.hasChildren(['isRemoteActive'])",
        "isRemoteActive": {
          ".validate": "newData.isBoolean()"
        },
        "playedChannels": {
          "$key1": {
            ".validate": "newData.hasChildren(['title', 'slug', 'body', 'link', 'channelPublic'])",
            "title": {
              ".validate": "newData.isString()"
            },
            "slug": {
              ".validate": "newData.isString()"
            },
            "body": {
              ".validate": "newData.isString()"
            },
            "link": {
              ".validate": "newData.isString()"
            },
            "images": {
              "$key2": {
                ".validate": "newData.hasChildren(['src'])",
                "src": {
                  ".validate": "newData.isString()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "tracks": {
              "$key3": {
                ".validate": "newData.hasChildren(['url', 'title', 'body', 'ytid'])",
                "url": {
                  ".validate": "newData.isString()"
                },
                "title": {
                  ".validate": "newData.isString()"
                },
                "body": {
                  ".validate": "newData.isString()"
                },
                "ytid": {
                  ".validate": "newData.isString()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "favoriteChannels": {
              ".validate": "***TYPE RECURSION***"
            },
            "channelPublic": {
              ".validate": "newData.hasChildren()",
              "followers": {
                ".validate": "***TYPE RECURSION***"
              },
              "$other": {
                ".validate": "false"
              }
            },
            "$other": {
              ".validate": "false"
            }
          },
          ".validate": "newData.hasChildren()"
        },
        "$other": {
          ".validate": "false"
        },
        ".read": "data.child('user') == auth.uid",
        ".write": "data.child('user') == auth.uid"
      }
    },
    "channels": {
      "$id": {
        ".validate": "newData.hasChildren(['title', 'slug', 'body', 'link', 'channelPublic'])",
        "title": {
          ".validate": "newData.isString()"
        },
        "slug": {
          ".validate": "newData.isString()"
        },
        "body": {
          ".validate": "newData.isString()"
        },
        "link": {
          ".validate": "newData.isString()"
        },
        "images": {
          "$key2": {
            ".validate": "newData.hasChildren(['src'])",
            "src": {
              ".validate": "newData.isString()"
            },
            "$other": {
              ".validate": "false"
            }
          },
          ".validate": "newData.hasChildren()"
        },
        "tracks": {
          "$key3": {
            ".validate": "newData.hasChildren(['url', 'title', 'body', 'ytid'])",
            "url": {
              ".validate": "newData.isString()"
            },
            "title": {
              ".validate": "newData.isString()"
            },
            "body": {
              ".validate": "newData.isString()"
            },
            "ytid": {
              ".validate": "newData.isString()"
            },
            "$other": {
              ".validate": "false"
            }
          },
          ".validate": "newData.hasChildren()"
        },
        "favoriteChannels": {
          ".validate": "***TYPE RECURSION***"
        },
        "channelPublic": {
          ".validate": "newData.hasChildren()",
          "followers": {
            ".validate": "***TYPE RECURSION***"
          },
          "$other": {
            ".validate": "false"
          }
        },
        "$other": {
          ".validate": "false"
        },
        ".read": "true",
        ".write": "data.child('user') == auth.uid"
      }
    }
  }
}
