<section class="Playlist">

	{{!-- {{fire-playlist
		playlist=model
		authController=authController
		isExpanded=true
		isSingle=true
		onPublishTrack="publishTrack"}} --}}

	<div class="PlaylistHeader">
		<div class="Inner">

			{{#link-to 'playlist' this}}
				<img class="PlaylistAvatar" src="https://i1.sndcdn.com/avatars-000069254848-ak10xz-t200x200.jpg?30a2558">
			{{/link-to}}

			{{#unless isEditing}}
				<div class="PlaylistFacts">
					<h1 class="PlaylistTitle">{{title}}</h1>
					<p class="PlaylistUrl">/{{url}}</p>
				</div>
				<p class="PlaylistDescription">{{body}}</p>
				<p><button {{action 'editPlaylist'}}>Edit playlist</button></p>
			{{/unless}}

			{{#if authController.isLoggedIn}}
				{{#if isEditing}}
					<form class="Form">
						{{input value=title}}
						{{input type="url" placeholder="Enter" value=url}}
						{{textarea value=body}}
						<button {{action "saveEditing"}}>Save playlist</button> <button {{action 'cancelEditing'}}>Cancel</button>
					</form>
				{{/if}}
				{{#if isAdding}}
				<div class="AddTrack">
					<h3>Add track</h3>
					<div class="Form">
						{{input value=trackUrl placeholder="YouTube or Soundcloud url"}}<br>
						{{input value=trackTitle placeholder="Title"}}<br>
						{{textarea value=trackBody placeholder="Optional description"}}<br>
						<button {{action "publishTrack"}}>Add track</button> <button {{action 'cancelTrack'}}>Cancel</button>
					</div>
				</div>
				{{else}}
					<p><button {{action 'addTrack'}}>Add track</button></p>
				{{/if}}
			{{/if}}
		</div>
	</div>

	{{render 'tracks' model}}
</section>
