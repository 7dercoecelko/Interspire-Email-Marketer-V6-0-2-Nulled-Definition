{{#if canEdit}}
	<form class="Form AddTrack" {{action "publishTrack" on='submit'}}>
		{{#if isAdding}}
			{{input value=trackUrl autofocus='autofocus' placeholder="YouTube or Soundcloud url"}}<br>
			{{input value=trackTitle placeholder="Title"}}<br>
			{{textarea value=trackBody placeholder="Optional description"}}<br>
			<button class="Btn Btn--primary" type='submit'>Add track</button> <button class="Btn Btn--text" {{action 'cancel'}}>Cancel</button>
		{{else}}
			<button class="Btn Btn--textInput" {{action 'addTrack'}}>Add a trackâ€¦</button>
		{{/if}}
	</form>
{{/if}}

{{#unless model}}
	<div class="Loader">
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
		width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
			<path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
				<animateTransform attributeType="xml"
					attributeName="transform"
					type="rotate"
					from="0 25 25"
					to="360 25 25"
					dur="0.6s"
					repeatCount="indefinite"/>
			</path>
		</svg>
	</div>
{{/unless}}

<div class="Section Section--noBottom">
	<div class="BtnGroup u-alignRight">
		<h4 class="BtnGroup-label">Sort by</h4>
		<button class="Btn" {{action 'sortBy' 'created'}}>Date</button>
		<button class="Btn" {{action 'sortBy' 'title'}}>Title</button>
	</div>
</div>

<ul class="List">
	{{#each track in arrangedContent}}
	{{!-- {{#reverse track in model}} --}}
		<li>{{x-track
				track=track
				playlist=controllers.playlist
				onPublishTrack="publishTrack"}}
		</li>
	{{/each}}
</ul>

{{!-- by default, the "detail page" of an x-track would be rendered here,
		but we overwrite it in the track router --}}
{{outlet}}
